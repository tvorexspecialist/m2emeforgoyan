<?xml version="1.0"?>
<routes xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Webapi:etc/webapi.xsd">
    <route url="/V1/emarsys/settings" method="POST">
        <service class="Emartech\Emarsys\Api\SettingsApiInterface" method="set"/>
        <resources>
            <resource ref="Magento_Backend::content"/>
        </resources>
    </route>
    <route url="/V1/emarsys/config" method="POST">
        <service class="Emartech\Emarsys\Api\ConfigApiInterface" method="set"/>
        <resources>
            <resource ref="Magento_Backend::content"/>
        </resources>
    </route>
    <route url="/V1/emarsys/config/setDefault" method="POST">
        <service class="Emartech\Emarsys\Api\ConfigApiInterface" method="setDefault"/>
        <resources>
            <resource ref="Magento_Backend::content"/>
        </resources>
    </route>
    <route url="/V1/emarsys/events" method="POST">
        <service class="Emartech\Emarsys\Api\EventsApiInterface" method="get"/>
        <resources>
            <resource ref="Magento_Backend::content"/>
        </resources>
    </route>
    <route url="/V1/emarsys/products" method="GET">
        <service class="Emartech\Emarsys\Api\ProductsApiInterface" method="get"/>
        <resources>
            <resource ref="Magento_Backend::content"/>
        </resources>
    </route>
    <route url="/V1/emarsys/templates" method="GET">
        <service class="Emartech\Emarsys\Api\TemplatesApiInterface" method="get"/>
        <resources>
            <resource ref="Magento_Backend::content"/>
        </resources>
    </route>
    <route url="/V1/emarsys/customers" method="GET">
        <service class="Emartech\Emarsys\Api\CustomersApiInterface" method="get"/>
        <resources>
            <resource ref="Magento_Backend::content"/>
        </resources>
    </route>
    <route url="/V1/emarsys/subscriptions/list" method="POST">
        <service class="Emartech\Emarsys\Api\SubscriptionApiInterface" method="getList"/>
        <resources>
            <resource ref="Magento_Backend::content"/>
        </resources>
    </route>
    <route url="/V1/emarsys/subscriptions/update" method="POST">
        <service class="Emartech\Emarsys\Api\SubscriptionApiInterface" method="update"/>
        <resources>
            <resource ref="Magento_Backend::content"/>
        </resources>
    </route>
</routes>
