<?xml version="1.0"?>

<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:ObjectManager/etc/config.xsd">
    <preference for="Emartech\Emarsys\Api\SettingsApiInterface" type="Emartech\Emarsys\Model\Api\SettingsApi" />
    <preference for="Emartech\Emarsys\Api\EventsApiInterface" type="Emartech\Emarsys\Model\Api\EventsApi" />
    <preference for="Emartech\Emarsys\Api\ProductsApiInterface" type="Emartech\Emarsys\Model\Api\ProductsApi" />
    <preference for="Emartech\Emarsys\Api\TemplatesApiInterface" type="Emartech\Emarsys\Model\Api\TemplatesApi" />
    <preference for="Emartech\Emarsys\Api\CustomersApiInterface" type="Emartech\Emarsys\Model\Api\CustomersApi" />
    <preference for="Emartech\Emarsys\Api\SubscriptionApiInterface" type="Emartech\Emarsys\Model\Api\SubscriptionApi" />
    <preference for="Emartech\Emarsys\Api\ConfigApiInterface" type="Emartech\Emarsys\Model\Api\ConfigApi" />
    <preference for="Emartech\Emarsys\Api\Data\ConfigInterface" type="Emartech\Emarsys\Model\Data\Config" />
    <type name="Magento\Customer\CustomerData\Customer">
        <plugin name="emartech_customerplugin" type="Emartech\Emarsys\CustomerData\Customer" />
    </type>
    <type name="Magento\Email\Model\Template">
        <plugin name="emarsys_template_plugin" type="\Emartech\Emarsys\Plugin\Email"/>
    </type>

    <type name="Magento\Newsletter\Model\Subscriber">
        <plugin name="emarsys_newsletter" type="\Emartech\Emarsys\Events\CustomerPlugin" sortOrder="1" disabled="false"/>
    </type>
    <type name="Magento\Customer\Model\EmailNotificationInterface">
        <plugin name="emarsys_customer_email" type="\Emartech\Emarsys\Events\CustomerPlugin" sortOrder="1" disabled="false"/>
    </type>

    <type name="Magento\Sales\Model\Order\Email\SenderBuilder">
        <plugin name="emarsys_order_email_sender_builder" type="\Emartech\Emarsys\Events\SenderBuilderPlugin" sortOrder="1" disabled="false"/>
    </type>
</config>